# Collatz-Binary-Analysis
202503@PL


"Коллатц в двоичной системе: битовый анализ"
взгляд на гипотезу Коллатца через объединение операций

Аннотация

Гипотеза Коллатца остаётся одной из самых известных нерешённых проблем математики. В данной работе предлагается альтернативное представление последовательности Коллатца, основанное на объединении операций для нечётных чисел. Рассматривается переход от классической формулы (3x+1)/2 к эквивалентному представлению int(1.5x)+1 через битовую структуру числа.

Показано, что если рассматривать число в двоичном представлении от единицы слева до единицы справа, количество операций умножения на 1.5x+1 и последующих делений на 2 всегда одинаково. Это приводит к неизбежному уменьшению числа.


2. Объединение операций
2.1. Переписывание формулы Коллатца

В стандартном представлении для нечётных чисел операция 3x+1 всегда приводит к чётному числу, а значит, следом выполняется деление на 2:
(3x+1)/2

Однако в двоичной системе можно переписать это так:
3x+1=int(1.5x)+1

Здесь int(1.5x) обозначает целую часть числа 1.5x, что эквивалентно сложению числа x и его сдвинутой версии x/2, с потерей дробной части:
int(1.5x)=x+⌊x/2⌋

Прибавление 1 компенсирует потерянную при округлении единицу. Это приводит к тому, что число всегда чётное, а значит, следом выполняется деление на 2.





2.2. Пример вычислений в двоичной системе

Рассмотрим число x=7x=7 (11121112​):

    Умножаем на 1.51.5:
    1.5×1112=1010.12
    1.5×1112​=1010.12​

    Берём целую часть:
    int(1010.12)=10102
    int(1010.12​)=10102​

    Прибавляем 1:
    10102+1=10112
    10102​+1=10112​

Результат совпадает с вычислением (3×7+1)/2=11(3×7+1)/2=11, подтверждая эквивалентность формул.
3. Анализ динамики последовательности
3.1. Смещение битов


При рассмотрении последовательности в двоичной системе видно, что операция int(1.5x)+1int(1.5x)+1 влияет на распределение битов:

    Перенос старшего бита возможен только при наличии двух установленных битов подряд.

    Второй бит справа также влияет на перенос вправо.

    Если число уже содержит много нулей справа, вероятность увеличения уменьшается.

Таким образом, число чаще сжимается, чем увеличивается.

3.2. Количество сдвигов влево и вправо

Для значительного увеличения числа требуется перенос бита влево, который возможен, только если старший бит имеет установленный соседний бит. Однако:

    В двоичной системе для нечётных чисел старший бит всегда равен 1.

    Единственные возможные комбинации старшего бита — 10 и 11.

    Для появления новых нулей справа возможны намного больше комбинаций.

Таким образом, количество уменьшений (делений на 2) превышает количество увеличений.

Рассчитаем на примере 100 случайных 8-битных чисел:
(Вставить таблицу расчётов)
Результаты показывают, что количество сдвигов вправо превышает сдвиги влево минимум в 2 раза.

3.3. Баланс операций 1.5x+1 и деления на 2

Если рассматривать число в двоичном представлении от первой слева до первой справа единицы, можно заметить, что:

    Каждая операция 1.5x+11.5x+1 создаёт чётное число.

    Это чётное число гарантированно делится на 2.

    Операции умножения и деления всегда чередуются.

Таким образом, баланс операций сохраняется, но так как уменьшения чаще увеличений, последовательность сжимается.
